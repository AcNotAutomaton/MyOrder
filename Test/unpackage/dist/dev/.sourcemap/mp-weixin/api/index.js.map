{"version":3,"file":"index.js","sources":["api/index.js"],"sourcesContent":["import request from '@/utils/request'\r\n\r\n// 基础路径\r\nconst baseURL = '/api'\r\n\r\n// 用户相关接口\r\nexport const userApi = {\r\n  // 微信登录\r\n  wxLogin(data) {\r\n    return request.post('/user/wx-login', {\r\n      code: data.code,\r\n      nickName: data.userInfo.nickName,\r\n      avatarUrl: data.userInfo.avatarUrl,\r\n      gender: data.userInfo.gender\r\n    })\r\n  },\r\n\r\n  // 更新用户信息\r\n  updateUserInfo(data) {\r\n    return request.put('/user/info', data)\r\n  },\r\n\r\n  // 退出登录\r\n  logout() {\r\n    return request.post('/user/logout')\r\n  }\r\n}\r\n\r\n// 菜品相关接口\r\nexport const menuApi = {\r\n  // 获取所有菜品\r\n  getMenuItems() {\r\n    return request.get('/api/menu-items')\r\n  },\r\n\r\n  // 获取单个菜品详情\r\n  getMenuItem(id) {\r\n    return request.get(`/api/menu-items/${id}`)\r\n  },\r\n\r\n  // 获取推荐菜品\r\n  getRecommendItems() {\r\n    return request.get('/api/menu-items/recommend')\r\n  },\r\n\r\n  // 获取热销菜品\r\n  getHotItems(page = 0, size = 10) {\r\n    return request.get('/api/menu-items/hot', null, {\r\n      page,\r\n      size\r\n    })\r\n  },\r\n\r\n  // 根据分类获取菜品\r\n  getMenuItemsByCategory(categoryId) {\r\n    return request.get(`/api/menu-items/category/${categoryId}`)\r\n  },\r\n\r\n  // 搜索菜品\r\n  searchMenuItems(keyword) {\r\n    return request.get('/api/menu-items/search', null, {\r\n      keyword  // 直接传递参数对象\r\n    })\r\n  }\r\n}\r\n\r\n// 购物车相关接口\r\nexport const cartApi = {\r\n  // 获取购物车\r\n  getCartItems(userId) {\r\n    return request.get(`/api/cart/user/${userId}`)\r\n  },\r\n\r\n  // 保存购物车项（添加或更新）\r\n  saveCartItem(data) {\r\n    return request.post(`/api/cart/save`, data)\r\n  },\r\n\r\n  // 删除购物车项\r\n  removeCartItem(userId, menuItemId) {\r\n    return request.delete(`/api/cart/${userId}/${menuItemId}`)\r\n  },\r\n\r\n  // 清空购物车\r\n  clearCart(userId) {\r\n    return request.delete(`/api/cart/${userId}`)\r\n  }\r\n}\r\n\r\n// 订单相关接口\r\nexport const orderApi = {\r\n  // 创建订单\r\n  createOrder(userId) {\r\n    return request.post(`/api/orders/create/${userId}`);\r\n  },\r\n\r\n  // 获取订单详情\r\n  getOrderDetails(orderId) {\r\n    return request.get(`/api/orders/${orderId}`)\r\n  },\r\n\r\n  // 获取微信支付参数\r\n  getWxPayParams(orderId) {\r\n    return request.get(`/api/orders/${orderId}/wx-pay-params`)\r\n  },\r\n\r\n  // 完成支付\r\n  payOrder(orderId) {\r\n    return request.post(`/api/orders/${orderId}/pay`)\r\n  },\r\n\r\n  // 取消订单\r\n  cancelOrder(orderId) {\r\n    return request.post(`/api/orders/${orderId}/cancel`)\r\n  },\r\n\r\n  // 删除订单\r\n  deleteOrder(orderId) {\r\n    return request.delete(`/api/orders/${orderId}`)\r\n  },\r\n\r\n  // 获取用户订单（分页）\r\n  getUserOrders({ userId, page = 0, size = 10, status = '' }) {\r\n    return request.get(`/api/orders/user/${userId}`, null, {\r\n      page,\r\n      size,\r\n      status\r\n    })\r\n  }\r\n}\r\n\r\n// 商家订单管理接口\r\nexport const orderManageApi = {\r\n  // 获取待处理订单\r\n  getPendingOrders() {\r\n    return request({\r\n      url: '/api/manage/orders/pending',\r\n      method: 'GET'\r\n    })\r\n  },\r\n\r\n  // 开始处理订单\r\n  startProcessingOrder(orderId) {\r\n    return request({\r\n      url: `/api/manage/orders/${orderId}/process`,\r\n      method: 'POST'\r\n    })\r\n  },\r\n\r\n  // 完成订单\r\n  completeOrder(orderId) {\r\n    return request({\r\n      url: `/api/manage/orders/${orderId}/complete`,\r\n      method: 'POST'\r\n    })\r\n  },\r\n\r\n  // 获取今日订单\r\n  getTodayOrders() {\r\n    return request({\r\n      url: '/api/manage/orders/today',\r\n      method: 'GET'\r\n    })\r\n  }\r\n}\r\n\r\n// 分类相关接口\r\nexport const categoryApi = {\r\n  // 获取所有分类\r\n  getAllCategories() {\r\n    return request.get('/api/categories/all')\r\n  },\r\n\r\n  // 根据分类获取菜品\r\n  getMenuItemsByCategory(categoryId) {\r\n    return request.get(`/menu-items/category/${categoryId}`)\r\n  },\r\n\r\n  // 创建分类\r\n  createCategory(data) {\r\n    return request.post('/categories', data)\r\n  },\r\n\r\n  // 更新分类\r\n  updateCategory(id, data) {\r\n    return request.put(`/categories/${id}`, data)\r\n  },\r\n\r\n  // 删除分类\r\n  deleteCategory(id) {\r\n    return request.delete(`/categories/${id}`)\r\n  }\r\n}"],"names":["request"],"mappings":"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"}